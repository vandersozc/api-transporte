package com.vandersoncamp.transporte.service.linhaonibus;import com.vandersoncamp.transporte.model.LinhaOnibus;import com.vandersoncamp.transporte.repository.LinhaOnibusRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.List;import java.util.Optional;@Servicepublic class LinhaOnibusService {    @Autowired    private LinhaOnibusRepository repository;    public LinhaOnibusService(LinhaOnibusRepository repository) {        this.repository = repository;    }    public Iterable<LinhaOnibus> findAll() {        return repository.findAll();    }    public LinhaOnibus save(LinhaOnibus linhaOnibus) {        return repository.save(linhaOnibus);    }    public Optional<LinhaOnibus> findById(Long id) {        return repository.findById(id);    }    public void integrarLinhaOnibus(List<LinhaOnibus> linhas) {        linhas.forEach(this::geraLinhaOnibus);    }    private void geraLinhaOnibus(LinhaOnibus linha) {        Optional<LinhaOnibus> linhaOnibus = findById(linha.getId());        if (!linhaOnibus.isPresent()) {            save(linha);            return;        }        if (!linhaOnibus.get().equals(linha)) {            LinhaOnibus novalinha = new LinhaOnibus();            novalinha.setId(linha.getId());            novalinha.setCodigo(linha.getCodigo());            novalinha.setNome(linha.getNome());            save(novalinha);        }    }}