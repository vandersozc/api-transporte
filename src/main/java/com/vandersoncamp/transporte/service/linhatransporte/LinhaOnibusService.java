package com.vandersoncamp.transporte.service.linhatransporte;import com.vandersoncamp.transporte.model.LinhaOnibus;import com.vandersoncamp.transporte.repository.LinhaOnibusRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.List;import java.util.Optional;@Servicepublic class LinhaOnibusService {    @Autowired    private LinhaOnibusRepository repository;    public LinhaOnibusService(LinhaOnibusRepository repository) {        this.repository = repository;    }    public Iterable<LinhaOnibus> findAll() {        return repository.findAll();    }    public LinhaOnibus save(LinhaOnibus linhaOnibus) {        return repository.save(linhaOnibus);    }    public Optional<LinhaOnibus> findById(Long id) {        return repository.findById(id);    }    public Iterable<LinhaOnibus> findByNome(String nome) {        return repository.findByNome(nome);    }    public void integrarLinhaOnibus(List<LinhaOnibus> linhas) {        linhas.forEach(this::geraLinhaOnibus);    }    public LinhaOnibus geraLinhaOnibus(LinhaOnibus linhaOnibus) {        Optional<LinhaOnibus> optional = findById(linhaOnibus.getId());        LinhaOnibus linha;        if (optional.isPresent()) {            linha = optional.get();        } else {            linha = save(linhaOnibus);        }        if (optional.isPresent() && (!optional.get().equals(linhaOnibus))) {            LinhaOnibus novalinha = new LinhaOnibus();            novalinha.setId(linhaOnibus.getId());            novalinha.setCodigo(linhaOnibus.getCodigo());            novalinha.setNome(linhaOnibus.getNome());            linha = save(novalinha);        }        return linha;    }}